# Сhat - Сетевой чат

#### Проект на клиент - серверной архитектуре.
Транспортная система обмена сообщениями, основана на обмене объектами между клиентом и сервером, используется сериализация и десериализация объектов сообщений. (Java IO).
Клиентская часть написана с использованием Java FX + CSS. Аутентификация пользователя использует Data Base SQLite, для хранения данных пользователей. 
Взаимодействие с Data Base реализованно с использованием JDBC. 
<b>Реализованны:</b> панель для регистрации нового пользователя, панель измнения своего статуса в списке доступных пользователей в сети, 
динамический набор панелей для индивидуальной переписки между собой в отдельных комнатах или в общей группе, ведется сохранение истории общения 
пользователей на стороне клиента (в общей группе).

#### В проекте 2 модуля клиент и сервер.
- сервер - модуль Server. 
- клиент - модуль Client.

## Модуль Server

Запускаясь сервер создает пул потоков, необходимых для выполнения слушателей клиента, а так же запускает сервис авторизации, который работает 
с базой пользователей. Далее создает Server Socket на порту "8189" и заходит в бесконечный цикл ожидая подключения клиентов.
        
        while (true) {
             socket = serverSocket.accept();
             service.execute(() -> {
                   try {
                        new ClientHandler(this, socket);
                   } 
                   catch (IOException e) {
                        LOGGER.throwing(Level.FATAL, e);
                   }
             });
        }
             
Метод accept() является блокирующим, поэтому для нового подключения запускается слушатель (ClientHandler) в выделенном ему из пула потоков 
потке. Слушатель получает ссылку на сервер и сокет. Обобщенная схема работы сервера представлена на рисунке ниже.

![Общая схема работы сервера](https://user-images.githubusercontent.com/89448563/185929114-ffa7d5d1-4548-481d-8546-17d0a878da57.png)


